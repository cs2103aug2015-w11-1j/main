# A0124472L
###### parser\InvalidParametersException.java
``` java

public class InvalidParametersException extends Exception {

	/*
	 * Throws when parameters are missing Time of recurring task is missing Task
	 * ID is missing when Command type requires ID
	 */
	private static final long serialVersionUID = 1L;

	public InvalidParametersException() {
	}

	public InvalidParametersException(String message) {
		super(message);
	}

}
```
###### parser\InvalidTimeDateInputException.java
``` java

public class InvalidTimeDateInputException extends Exception {

	/*
	 * Throws when Time/Date input is not supported
	 */
	private static final long serialVersionUID = 1L;

	public InvalidTimeDateInputException() {
	}

	public InvalidTimeDateInputException(String message) {
		super(message);
	}
}
```
###### parser\Parser.java
``` java

/*
 	All keywords are case insensitive
	<----------------------------------------------------------------------->
	Command keywords demarked by
	Adding of task(default command)				add			-a
	Deleting of task							delete		-d
	Marking task as complete					complete	done
	Marking task as incomplete					incomplete	undone
	Displaying help manual						help
	Redo last action							redo
	Search task									search		find		-s
	Undo last action							undo
	Editing an existing task					update		update		-u
	Displaying of task							all
	Displaying floating task					floatings	floating	float
	Displaying deadline task					deadlines	deadline	due
	Displaying event task						events		event
	Set file path								set
	
	<----------------------------------------------------------------------->
	Event task 				<From> <To> 
							<At>
	
	Floating task			No time specified
	
	Deadline task			<By>/<On>
	
	Date and time format  	<time><date>
	
	
	If description contains time keyword, use '/' as escape character
	
	Supported time format 
	
				- HHmm		2359
				- HH.mm		23.59
				- HH:mm		23:59
				- hhmma		1159pm
				- hha		11pm
				- hh.mma	11.59pm
				- hh:mma	11:59pm
				
	Supported date format 
	
				- dd MMMM yy	01 April 15		01 Apr 15
				- dd MM yy		01 04 15
				- dd MMMM yyyy	01 April 2015	01 Apr 2015
				- dd MM yyyy	01 04 2015
				- dd MMMM		01 April		01 Apr
				- dd MM			01 04
				
				- dd-MMMM-yy	01-April-15		01-Apr-15
				- dd-MM-yy		01-04-15
				- dd-MMMM-yyyy	01-April-2015	01-Apr-2015
				- dd-MM-yyyy	01-04-2015
				- dd-MMMM		01-April		01-Apr
				- dd-MM			01-04
				
				- dd/MMMM/yy	01/April/15		01/Apr/15
				- dd/MM/yy		01/04/15
				- dd/MMMM/yyyy	01/April/2015	01/Apr/2015
				- dd/MM/yyyy	01/04/2015
				- dd/MMMM		01/April		01/Apr
				- dd/MM			01/04
	
	Supported date keywords	
	
				- today			today		tdy
				- tomorrow		tomorrow	tmr	
				- monday		monday		mon
				- tuesday		tuesday		tue
				- wednesday		wednesday	wed
				- thursday		thursday	thur
				- friday		friday		fri
				- saturday		saturday	sat
				- sunday		sunday		sun
				
				
		<Command> <Description> <TaskID (if applicable)> <Time task>
	eg. -U 2 dinner /at gardens /by the bay FROM 12.30pm 6/10/15 TO 6pm 6/10/15 
*/

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Calendar;
import java.util.Date;
import commandDetail.CommandDetails;

public class Parser {
	private final static String[] DATE_FORMAT = { "HHmm dd MMMM yy", "HH.mm dd MMMM yy", "HH:mm dd MMMM yy",
			"hhmma dd MMMM yy", "hha dd MMMM yy", "hmma dd MMMM yy", "hh.mma dd MMMM yy", "hh:mma dd MMMM yy",
			"dd MMMM yy",

			"HHmm dd MM yy", "HH.mm dd MM yy", "HH:mm dd MM yy", "hhmma dd MM yy", "hha dd MM yy", "hmma dd MM yy",
			"hh.mma dd MM yy", "hh:mma dd MM yy", "dd MM yy",

			"HHmm dd MMMM", "HH.mm dd MMMM", "HH:mm dd MMMM", "hhmma dd MMMM", "hha dd MMMM", "hmma dd MMMM",
			"hh.mma dd MMMM", "hh:mma dd MMMM", "dd MMMM",

			"HHmm dd MM", "HH.mm dd MM", "HH:mm dd MM", "hhmma dd MM", "hha dd MM", "hmma dd MM", "hh.mma dd MM",
			"hh:mma dd MM", "dd MM",

			"HHmm dd/MMMM/yy", "HH.mm dd/MMMMM/yy", "HH:mm dd/MMMM/yy", "hhmma dd/MMMM/yy", "hha dd/MMMM/yy",
			"hmma dd/MMMM/yy", "hh.mma dd/MMMM/yy", "hh:mma dd/MMMM/yy", "dd/MMMM/yy",

			"HHmm dd/MM/yy", "HH.mm dd/MM/yy", "HH:mm dd/MM/yy", "hhmma dd/MM/yy", "hha dd/MM/yy", "hmma dd/MM/yy",
			"hh.mma dd/MM/yy", "hh:mma dd/MM/yy", "dd/MM/yy",

			"HHmm dd/MMMM", "HH.mm dd/MMMM", "HH:mm dd/MMMM", "hhmma dd/MMMM", "hha dd/MMMM", "hmma dd/MMMM",
			"hh.mma dd/MMMM", "hh:mma dd/MMMM", "dd/MMMM",

			"HHmm dd/MM", "HH.mm dd/MM", "HH:mm dd/MM", "hhmma dd/MM", "hha dd/MM", "hmma dd/MM", "hh.mma dd/MM",
			"hh:mma dd/MM", "dd/MM",

			"HHmm dd-MMMM-yy", "HH.mm dd-MMMM-yy", "HH:mm dd-MMMM-yy", "hhmma dd-MMMM-yy", "hha dd-MMMM-yy",
			"hmma dd-MMMM-yy", "hh.mma dd-MMMM-yy", "hh:mma dd-MMMM-yy", "dd-MMMM-yy",

			"HHmm dd-MM-yy", "HH.mm dd-MM-yy", "HH:mm dd-MM-yy", "hhmma dd-MM-yy", "hha dd-MM-yy", "hmma dd-MM-yy",
			"hh.mma dd-MM-yy", "hh:mma dd-MM-yy", "dd-MM-yy",

			"HHmm dd-MMMM", "HH.mm dd-MMMM", "HH:mm dd-MMMM", "hhmma dd-MMMM", "hha dd-MMMM", "hmma dd-MMMM",
			"hh.mma dd-MMMM", "hh:mma dd-MMMM", "dd-MMMM",

			"HHmm dd-MM", "HH.mm dd-MM", "HH:mm dd-MM", "hhmma dd-MM", "hha dd-MM", "hmma dd-MM", "hh.mma dd-MM",
			"hh:mma dd-MM", "dd-MM",

			"hhmma", "hha", "hmma", "hh.mma", "hh:mma", "HH.mm", "HH:mm", "HHmm"

	};

	private final static String[] NOT_TIME_ONLY_FORMAT = { "HHmm dd MMMM yy", "HH.mm dd MMMM yy", "HH:mm dd MMMM yy",
			"hhmma dd MMMM yy", "hha dd MMMM yy", "hmma dd MMMM yy", "hh.mma dd MMMM yy", "hh:mma dd MMMM yy",
			"dd MMMM yy",

			"HHmm dd MM yy", "HH.mm dd MM yy", "HH:mm dd MM yy", "hhmma dd MM yy", "hha dd MM yy", "hmma dd MM yy",
			"hh.mma dd MM yy", "hh:mma dd MM yy", "dd MM yy",

			"HHmm dd MMMM", "HH.mm dd MMMM", "HH:mm dd MMMM", "hhmma dd MMMM", "hha dd MMMM", "hmma dd MMMM",
			"hh.mma dd MMMM", "hh:mma dd MMMM", "dd MMMM",

			"HHmm dd MM", "HH.mm dd MM", "HH:mm dd MM", "hhmma dd MM", "hha dd MM", "hmma dd MM", "hh.mma dd MM",
			"hh:mma dd MM", "dd MM",

			"HHmm dd/MMMM/yy", "HH.mm dd/MMMMM/yy", "HH:mm dd/MMMM/yy", "hhmma dd/MMMM/yy", "hha dd/MMMM/yy",
			"hmma dd/MMMM/yy", "hh.mma dd/MMMM/yy", "hh:mma dd/MMMM/yy", "dd/MMMM/yy",

			"HHmm dd/MM/yy", "HH.mm dd/MM/yy", "HH:mm dd/MM/yy", "hhmma dd/MM/yy", "hha dd/MM/yy", "hmma dd/MM/yy",
			"hh.mma dd/MM/yy", "hh:mma dd/MM/yy", "dd/MM/yy",

			"HHmm dd/MMMM", "HH.mm dd/MMMM", "HH:mm dd/MMMM", "hhmma dd/MMMM", "hha dd/MMMM", "hmma dd/MMMM",
			"hh.mma dd/MMMM", "hh:mma dd/MMMM", "dd/MMMM",

			"HHmm dd/MM", "HH.mm dd/MM", "HH:mm dd/MM", "hhmma dd/MM", "hha dd/MM", "hmma dd/MM", "hh.mma dd/MM",
			"hh:mma dd/MM", "dd/MM",

			"HHmm dd-MMMM-yy", "HH.mm dd-MMMM-yy", "HH:mm dd-MMMM-yy", "hhmma dd-MMMM-yy", "hha dd-MMMM-yy",
			"hmma dd-MMMM-yy", "hh.mma dd-MMMM-yy", "hh:mma dd-MMMM-yy", "dd-MMMM-yy",

			"HHmm dd-MM-yy", "HH.mm dd-MM-yy", "HH:mm dd-MM-yy", "hhmma dd-MM-yy", "hha dd-MM-yy", "hmma dd-MM-yy",
			"hh.mma dd-MM-yy", "hh:mma dd-MM-yy", "dd-MM-yy",

			"HHmm dd-MMMM", "HH.mm dd-MMMM", "HH:mm dd-MMMM", "hhmma dd-MMMM", "hha dd-MMMM", "hmma dd-MMMM",
			"hh.mma dd-MMMM", "hh:mma dd-MMMM", "dd-MMMM",

			"HHmm dd-MM", "HH.mm dd-MM", "HH:mm dd-MM", "hhmma dd-MM", "hha dd-MM", "hmma dd-MM", "hh.mma dd-MM",
			"hh:mma dd-MM", "dd-MM", };

	private final static String[] DATE_ONLY_FORMAT = { "dd/MM", "dd-MM", "dd-MMMM", "dd-MM-yy", "dd-MMMM-yy", "dd/MMMM",
			"dd/MM/yy", "dd/MMMM/yy", "dd MM", "dd MMMM", "dd MM yy", "dd MMMM yy" };

	private final static String[] TIME_ONLY_FORMAT = { "hhmma", "hha", "hmma", "hh.mma", "hh:mma", "HH.mm", "HH:mm",
			"HHmm" };

	private final static String[] TIME_KEYWORDS = { "MONDAY", "MON", "TUESDAY", "TUE", "WEDNESDAY", "WED", "THURSDAY",
			"THUR", "FRIDAY", "FRI", "SATURDAY", "SAT", "SUNDAY", "SUN", "TODAY", "TDY", "TOMORROW", "TMR" };

	private final static String[] KEYWORD = { "BY", "FROM", "TO", "AT", "ON" };
	private final static int DAYS_IN_A_WEEK = 7;
	private final static int NO_NEXT_KEYWORD = -2;
	private final static int NO_ID = -10;
	private final static int NO_KEYWORD = -1;
	private final static int NO_YEAR_INPUT = 1970;
	private final static int FIRST_IN_ARRAYLIST = 0;

	/*************************************************************************************************
	 ************************************* GENERAL USED METHODS **************************************
	 *************************************************************************************************/

	/**
	 * Returns the index of the keyword or -1 if not found
	 */
	private static int indexOfkeyWord(ArrayList<String> input, String keyword) {
		int arrayListIndex = 0;
		int indexOfKeyWord = -1;
		for (String tokens : input) {
			if (tokens.equalsIgnoreCase(keyword)) {
				indexOfKeyWord = arrayListIndex;
			}
			arrayListIndex++;
		}
		return indexOfKeyWord;
	}

	/**
	 * Returns true if arrayList contains keyword
	 */
	private static boolean containsKeyword(int indexOfKeyWord) {
		return indexOfKeyWord != NO_KEYWORD;
	}

	/**
	 * Returns index of next keyword
	 */
	private static int findNextKeyword(ArrayList<String> input, int indexOfKeyWord) {
		int indexOfNextKeyWord = NO_NEXT_KEYWORD;
		for (int i = indexOfKeyWord + 1; i < input.size(); i++) {
			if (isKeyWord(input.get(i))) {
				indexOfNextKeyWord = i;
				break;
			}
		}
		return indexOfNextKeyWord;
	}

	/**
	 * Return true if string is a keyword
	 */
	private static boolean isKeyWord(String input) {
		for (int i = 0; i < KEYWORD.length; i++) {
			if (KEYWORD[i].equalsIgnoreCase(input)) {
				return true;
			}
		}
		return false;
	}

	/**
	 * Takes in 2 index of a arrayList Remove the Strings in between the index
	 * and append them as a string Returns the result String
	 * 
	 * @throws InvalidParametersException
	 *             when required parameters are missing
	 */
	private static String getInputBetweenArrayList(ArrayList<String> input, int indexOfKeyWord, int indexOfNextKeyWord)
			throws InvalidParametersException {
		String result = "";
		for (int i = 0; i < indexOfNextKeyWord - indexOfKeyWord - 1; i++) {
			result = result + " " + input.remove(indexOfKeyWord + 1);
		}
		try {
			result = result.substring(1);
		} catch (StringIndexOutOfBoundsException e) {
			throw new InvalidParametersException();
		}
		input.remove(indexOfKeyWord);
		return result;
	}

	/**
	 * If Index of next Keyword is NO_NEXT_KEYWORD, returns the last index of
	 * arrayList
	 */
	private static int checkLastIndex(ArrayList<String> input, int indexOfNextKeyWord) {
		if (indexOfNextKeyWord == NO_NEXT_KEYWORD) {
			indexOfNextKeyWord = input.size();
		}
		return indexOfNextKeyWord;
	}

	/**
	 * Returns a string with consecutive white spaces removed
	 */
	private static String formatString(String input) {
		try {
			input = input.trim().replaceAll(" +", " ");
		} catch (NullPointerException e) {
			// No parameters
		}
		return input;
	}

	/*************************************************************************************************
	 ************************************* TIME AND DATE PARSING *************************************
	 *************************************************************************************************/

	/**
	 * Parse user input determines the start date
	 * 
	 * @throws InvalidParametersException
	 *             when required parameters are missing
	 * @throws InvalidTimeDateInputException
	 *             when time/date format is not supported
	 */
	private static Date parseStartDate(ArrayList<String> input)
			throws InvalidParametersException, InvalidTimeDateInputException {
		String result = "";
		int indexOfNextKeyWord = NO_NEXT_KEYWORD;
		int indexOfKeyWordFROM = indexOfkeyWord(input, "FROM");
		int indexOfKeyWordAT = indexOfkeyWord(input, "AT");

		if (!containsKeyword(indexOfKeyWordFROM) && !containsKeyword(indexOfKeyWordAT)) {
			return null;
		} else if (containsKeyword(indexOfKeyWordAT)) {
			indexOfNextKeyWord = findNextKeyword(input, indexOfKeyWordAT);
		} else {
			indexOfNextKeyWord = findNextKeyword(input, indexOfKeyWordFROM);
		}
		indexOfNextKeyWord = checkLastIndex(input, indexOfNextKeyWord);
		// Start date is FROM
		if (containsKeyword(indexOfKeyWordFROM)) {
			result = getInputBetweenArrayList(input, indexOfKeyWordFROM, indexOfNextKeyWord);
		}
		// end date is AT
		if (containsKeyword(indexOfKeyWordAT)) {
			result = getInputBetweenArrayList(input, indexOfKeyWordAT, indexOfNextKeyWord);
		}
		// System.out.println(result);
		return createDate(result, "START");
	}

	/**
	 * Parse user input determines the end date
	 * 
	 * @throws InvalidParametersException
	 *             when required parameters are missing
	 * 
	 * @throws InvalidTimeDateInputException
	 *             when time/date format is not supported
	 */

	private static Date parseEndDate(ArrayList<String> input)
			throws InvalidTimeDateInputException, InvalidParametersException {
		String result = "";
		int indexOfNextKeyWord = NO_NEXT_KEYWORD;
		int indexOfKeyWordTO = indexOfkeyWord(input, "TO");
		int indexOfKeyWordBY = indexOfkeyWord(input, "BY");
		int indexOfKeyWordON = indexOfkeyWord(input, "ON");

		if (!containsKeyword(indexOfKeyWordTO) && !containsKeyword(indexOfKeyWordBY)
				&& !containsKeyword(indexOfKeyWordON)) {
			return null;
		} else if (containsKeyword(indexOfKeyWordBY)) {
			indexOfNextKeyWord = findNextKeyword(input, indexOfKeyWordBY);
		} else if (containsKeyword(indexOfKeyWordON)) {
			indexOfNextKeyWord = findNextKeyword(input, indexOfKeyWordON);
		} else {
			indexOfNextKeyWord = findNextKeyword(input, indexOfKeyWordTO);
		}

		indexOfNextKeyWord = checkLastIndex(input, indexOfNextKeyWord);
		// end date is TO
		if (containsKeyword(indexOfKeyWordTO)) {
			result = getInputBetweenArrayList(input, indexOfKeyWordTO, indexOfNextKeyWord);
		}
		// end date is BY
		if (containsKeyword(indexOfKeyWordBY)) {
			result = getInputBetweenArrayList(input, indexOfKeyWordBY, indexOfNextKeyWord);
		}
		// end date is ON
		if (containsKeyword(indexOfKeyWordON)) {
			result = getInputBetweenArrayList(input, indexOfKeyWordON, indexOfNextKeyWord);
		}
		return createDate(result, "END");
	}

	/**
	 * Creates the Date object with the parsed date string if method is set to
	 * START, default time is set as 0000 if method is set to END, default time
	 * is set as 2359
	 * 
	 * @throws InvalidTimeDateInputException
	 *             when time/date format is not supported
	 */
	private static Date createDate(String input, String method) throws InvalidTimeDateInputException {
		Date myDate = null;
		Calendar cal = Calendar.getInstance();

		for (String formatParsed : DATE_FORMAT) {
			try {
				SimpleDateFormat possibleFormats = new SimpleDateFormat(formatParsed);
				possibleFormats.setLenient(false);
				myDate = possibleFormats.parse(input);
				cal.setTime(myDate);

				checkKeywords(input, formatParsed);
				checkInput(input, formatParsed);
				for (String days : TIME_KEYWORDS) {
					if (input.toUpperCase().contains(days)) {
						myDate = addDefaultDate(input, myDate, cal);
						break;
					}
				}

				if (method.equals("END")) {
					addDefaultTime(cal, formatParsed);
				}

				for (String time : TIME_ONLY_FORMAT) {
					addDefaultDay(cal, formatParsed, time);
				}

				if (cal.get(Calendar.YEAR) == NO_YEAR_INPUT) {
					myDate = addDefaultYear(cal);
				}

				return myDate;
			} catch (ParseException e) {
				// Does not match format, proceed to compare next format
			}
		}

		String defaultTime = null;

		for (int i = 0; i < TIME_KEYWORDS.length; i++) {
			if (input.toUpperCase().equals(TIME_KEYWORDS[i])) {
				SimpleDateFormat format = new SimpleDateFormat("HHmm");
				try {
					if (method.equals("START")) {
						defaultTime = "0000";
					} else {
						defaultTime = "2359";
					}
					myDate = format.parse(defaultTime);
					myDate = addDefaultDate(input, myDate, cal);
					return myDate;
				} catch (ParseException e) {
					// self set time format, ignore
				}
			}
		}
		throw new InvalidTimeDateInputException(input);
	}

	/**
	 * Checks if input have extra parameters eg. time is specific after date
	 * 
	 * @throws InvalidTimeDateInputException
	 *             when time/date format is not supported
	 */
	private static void checkInput(String input, String formatParsed) throws InvalidTimeDateInputException {
		int numOfTokInput = new ArrayList<String>(Arrays.asList(input.split(" "))).size();
		int numOfTokformat;

		for (String format : DATE_ONLY_FORMAT) {
			if (format.equals(formatParsed)) {
				numOfTokformat = new ArrayList<String>(Arrays.asList(formatParsed.split(" "))).size();
				if (numOfTokInput != numOfTokformat) {
					throw new InvalidTimeDateInputException(input);
				}
			}
		}
	}

	/**
	 * Checks if input contains multiple Time keywords
	 * 
	 * @throws InvalidTimeDateInputException
	 *             when time/date format is not supported
	 */
	private static void checkKeywords(String input, String formatParsed) throws InvalidTimeDateInputException {
		int count = 0;
		for (int i = 0; i < TIME_KEYWORDS.length; i++) {
			if (input.toUpperCase().equals(TIME_KEYWORDS[i])) {
				count++;
			}
			if (count > 1) {
				throw new InvalidTimeDateInputException(input);
			}
		}

		for (String format : NOT_TIME_ONLY_FORMAT) {
			for (int i = 0; i < TIME_KEYWORDS.length; i++) {
				if (input.toUpperCase().contains(TIME_KEYWORDS[i]) && formatParsed.equals(format)) {
					throw new InvalidTimeDateInputException(input);
				}
			}
		}

	}

	/**
	 * Returns a calendar object with year set as current year if year is not
	 * specified
	 */
	private static Date addDefaultYear(Calendar cal) {
		Date myDate;
		cal.set(Calendar.YEAR, Calendar.getInstance().get(Calendar.YEAR));
		myDate = cal.getTime();
		return myDate;
	}

	/**
	 * Returns a calendar object with date set as today if date is not specified
	 */
	private static Date addDefaultDate(String input, Date myDate, Calendar cal) {
		cal.setTime(myDate);
		cal.set(Calendar.DATE, Calendar.getInstance().get(Calendar.DATE));
		cal.set(Calendar.MONTH, Calendar.getInstance().get(Calendar.MONTH));
		cal.set(Calendar.YEAR, Calendar.getInstance().get(Calendar.YEAR));
		keyWords(input, cal);
		myDate = cal.getTime();
		return myDate;
	}

	/**
	 * Returns a calendar object with day set as current day if day is not
	 * stated
	 */
	private static void addDefaultDay(Calendar cal, String formatParsed, String time) {
		if (formatParsed.equals(time)) {
			cal.set(Calendar.DAY_OF_YEAR, Calendar.getInstance().get(Calendar.DAY_OF_YEAR));
		}
	}

	/**
	 * Returns a calendar object with time set as 2359 if method is end and time
	 * is not stated
	 */
	private static void addDefaultTime(Calendar cal, String formatParsed) {
		for (String date : DATE_ONLY_FORMAT) {
			if (formatParsed.equals(date)) {
				int lastHourInDay = 23;
				int lastMinuteInDay = 59;
				cal.set(Calendar.HOUR_OF_DAY, lastHourInDay);
				cal.set(Calendar.MINUTE, lastMinuteInDay);
			}
		}
	}

	/**
	 * Add day accordingly to keywords stated in input
	 */
	private static void keyWords(String input, Calendar cal) {
		Calendar now = Calendar.getInstance();
		int weekday = cal.get(Calendar.DAY_OF_WEEK);
		int HOUR_OF_DAY = cal.get(Calendar.HOUR_OF_DAY);
		int MINUTE = cal.get(Calendar.MINUTE);
		int NOW_HOUR_OF_DAY = now.get(Calendar.HOUR_OF_DAY);
		int NOW_MINUTE = now.get(Calendar.MINUTE);
		boolean isBeforeCurrentTime = checkBeforeCurrentTIme(HOUR_OF_DAY, MINUTE, NOW_HOUR_OF_DAY, NOW_MINUTE);

		int i;
		for (i = 0; i < TIME_KEYWORDS.length; i++) {
			if (input.toUpperCase().contains(TIME_KEYWORDS[i])) {
				break;
			}
		}

		switch (TIME_KEYWORDS[i]) {
		case "TOMORROW":
		case "TMR":
			cal.add(Calendar.DAY_OF_YEAR, 1);
			break;
		case "MONDAY":
		case "MON":
			if (weekday != Calendar.MONDAY) {
				int days = (Calendar.MONDAY - weekday) % DAYS_IN_A_WEEK;
				incrementDay(cal, days);
			} else if (isBeforeCurrentTime) {
				cal.add(Calendar.DAY_OF_YEAR, DAYS_IN_A_WEEK);
			}
			break;
		case "TUESDAY":
		case "TUE":
			weekday = cal.get(Calendar.DAY_OF_WEEK);
			if (weekday != Calendar.TUESDAY) {
				int days = (Calendar.TUESDAY - weekday) % DAYS_IN_A_WEEK;
				incrementDay(cal, days);
			} else if (isBeforeCurrentTime) {
				cal.add(Calendar.DAY_OF_YEAR, DAYS_IN_A_WEEK);
			}
			break;
		case "WEDNESDAY":
		case "WED":
			weekday = cal.get(Calendar.DAY_OF_WEEK);
			if (weekday != Calendar.WEDNESDAY) {
				int days = (Calendar.WEDNESDAY - weekday) % DAYS_IN_A_WEEK;
				incrementDay(cal, days);
			} else if (isBeforeCurrentTime) {
				cal.add(Calendar.DAY_OF_YEAR, DAYS_IN_A_WEEK);
			}
			break;
		case "THURSDAY":
		case "THUR":
			weekday = cal.get(Calendar.DAY_OF_WEEK);
			if (weekday != Calendar.THURSDAY) {
				int days = (Calendar.THURSDAY - weekday) % DAYS_IN_A_WEEK;
				incrementDay(cal, days);
			} else if (isBeforeCurrentTime) {
				cal.add(Calendar.DAY_OF_YEAR, DAYS_IN_A_WEEK);
			}
			break;
		case "FRIDAY":
		case "FRI":
			weekday = cal.get(Calendar.DAY_OF_WEEK);
			if (weekday != Calendar.FRIDAY) {
				int days = (Calendar.FRIDAY - weekday) % DAYS_IN_A_WEEK;
				incrementDay(cal, days);
			} else if (isBeforeCurrentTime) {
				cal.add(Calendar.DAY_OF_YEAR, DAYS_IN_A_WEEK);
			}
			break;
		case "SATURDAY":
		case "SAT":
			weekday = cal.get(Calendar.DAY_OF_WEEK);
			if (weekday != Calendar.SATURDAY) {
				int days = (Calendar.SATURDAY - weekday) % DAYS_IN_A_WEEK;
				incrementDay(cal, days);
			} else if (isBeforeCurrentTime) {
				cal.add(Calendar.DAY_OF_YEAR, DAYS_IN_A_WEEK);
			}
			break;
		case "SUNDAY":
		case "SUN":
			weekday = cal.get(Calendar.DAY_OF_WEEK);
			if (weekday != Calendar.SUNDAY) {
				int days = (Calendar.SUNDAY - weekday) % DAYS_IN_A_WEEK;
				incrementDay(cal, days);
			} else if (isBeforeCurrentTime) {
				cal.add(Calendar.DAY_OF_YEAR, DAYS_IN_A_WEEK);
			}
			break;
		}

	}

	/**
	 * Returns true if before current time
	 */
	private static boolean checkBeforeCurrentTIme(int HOUR_OF_DAY, int MINUTE, int NOW_HOUR_OF_DAY, int NOW_MINUTE) {
		return HOUR_OF_DAY < NOW_HOUR_OF_DAY || (HOUR_OF_DAY == NOW_HOUR_OF_DAY && MINUTE < NOW_MINUTE);
	}

	/**
	 * Increment day to the following week
	 */
	private static void incrementDay(Calendar cal, int days) {
		if (days < 0) {
			days = days + DAYS_IN_A_WEEK;
		}
		cal.add(Calendar.DAY_OF_YEAR, days);
	}

	/*************************************************************************************************
	 ************************************* COMMAND PARSING *******************************************
	 *************************************************************************************************/

	/**
	 * Parse Type of command returns as CommandDetails.COMMANDS returns as an
	 * ADD command type if not stated
	 * 
	 * @throws InvalidParametersException
	 *             when required parameters are missing
	 * 
	 */
	private static CommandDetails.COMMANDS parseCommandType(ArrayList<String> input) throws InvalidParametersException {

		try {
			switch (input.get(FIRST_IN_ARRAYLIST).toUpperCase()) {
			case "ADD":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.ADD;
			case "-A":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.ADD;
			case "DELETE":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.DELETE;
			case "DEL":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.DELETE;
			case "REMOVE":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.DELETE;
			case "-D":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.DELETE;
			case "COMPLETE":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.COMPLETE;
			case "DONE":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.COMPLETE;
			case "INCOMPLETE":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.INCOMPLETE;
			case "UNDONE":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.INCOMPLETE;
			case "HELP":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.HELP;
			case "REDO":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.REDO;
			case "SEARCH":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.SEARCH;
			case "-S":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.SEARCH;
			case "FIND":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.SEARCH;
			case "UNDO":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.UNDO;
			case "ALL":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.ALL;
			case "UPDATE":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.UPDATE;
			case "EDIT":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.UPDATE;
			case "-U":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.UPDATE;
			case "SET":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.SET;
			case "FLOATING":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.FLOATING;
			case "FLOAT":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.FLOATING;
			case "EVENTS":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.EVENTS;
			case "EVENT":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.EVENTS;
			case "DEADLINES":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.DEADLINES;
			case "DEADLINE":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.DEADLINES;
			case "DUE":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.DEADLINES;
			case "EXIT":
				input.remove(FIRST_IN_ARRAYLIST);
				return CommandDetails.COMMANDS.EXIT;
			default:
				return CommandDetails.COMMANDS.ADD;
			}
		} catch (IndexOutOfBoundsException e) {
			throw new InvalidParametersException();

		}
	}

	/*************************************************************************************************
	 ************************************* TASK ID PARSING *******************************************
	 *************************************************************************************************/

	/**
	 * Parse Task ID throws InvalidParametersException when ID is missing
	 * returns as integer
	 * 
	 * @throws InvalidParametersException
	 *             When ID is not a integer
	 */
	private static int parseID(ArrayList<String> input) throws InvalidParametersException {
		int ID = NO_ID;

		try {
			ID = Integer.parseInt(input.remove(FIRST_IN_ARRAYLIST));
		} catch (IndexOutOfBoundsException e) {
			throw new InvalidParametersException();
		}
		return ID;
	}

	/*************************************************************************************************
	 ************************************* DESCRIPTION PARSING ***************************************
	 *************************************************************************************************/

	/**
	 * Parse task description and remove escape character "/" Returns a String
	 */
	static String parseDescription(ArrayList<String> input) {
		String result = "";

		if (input.isEmpty()) {
			return null;
		}
		try {
			while (!input.isEmpty()) {
				if (input.get(FIRST_IN_ARRAYLIST).charAt(0) == '/') {
					// Removes escape character
					result = result + " " + input.remove(FIRST_IN_ARRAYLIST).substring(1);
				} else {
					result = result + " " + input.remove(FIRST_IN_ARRAYLIST);
				}
			}
		} catch (StringIndexOutOfBoundsException e) {
			// empty description
		}
		result = formatString(result);
		return result;
	}

	/*************************************************************************************************
	 ************************************* USER INPUT PARSING ****************************************
	 *************************************************************************************************/

	/**
	 * Parse user input from control and validates the input before returning a
	 * Command Detail object to control with each parameter parsed
	 * 
	 * @throws InvalidParametersException
	 *             when required parameters are missing
	 * @throws InvalidTimeDateInputException
	 *             when time/date format is not supported
	 */
	public static CommandDetails parse(String input) throws InvalidParametersException, InvalidTimeDateInputException {
		String description;
		Date start;
		Date end;
		int ID = NO_ID;
		boolean isKeywordAt = false;

		input = formatString(input);
		ArrayList<String> strTokens = new ArrayList<String>(Arrays.asList(input.split(" ")));
		validateInput(strTokens, input);

		CommandDetails.COMMANDS command = parseCommandType(strTokens);
		if (requiresTaskID(command)) {
			ID = parseID(strTokens);
		}
		end = parseEndDate(strTokens);
		isKeywordAt = isEventTaskofAT(strTokens);
		start = parseStartDate(strTokens);
		if (isKeywordAt) {
			end = setEndDate(start);
		}
		description = parseDescription(strTokens);
		validateCommandDetails(command, ID, description, start, end, input);
		return new CommandDetails(command, description, start, end, ID);
	}

	/**
	 * Set end time as 2359 for AT event task
	 */

	private static Date setEndDate(Date start) {
		Calendar cal = Calendar.getInstance();
		int lastHourInDay = 23;
		int lastMinuteInDay = 59;
		cal.setTime(start);
		cal.set(Calendar.HOUR_OF_DAY, lastHourInDay);
		cal.set(Calendar.MINUTE, lastMinuteInDay);
		return cal.getTime();
	}

	/**
	 * Return True if keyword is AT
	 */
	private static boolean isEventTaskofAT(ArrayList<String> strTokens) {
		for (String tokens : strTokens) {
			if (tokens.equalsIgnoreCase("AT")) {
				return true;
			}
		}
		return false;
	}

	/**
	 * Return True Command Type requires a Task ID
	 */
	private static boolean requiresTaskID(CommandDetails.COMMANDS command) {
		return command == CommandDetails.COMMANDS.DELETE || command == CommandDetails.COMMANDS.COMPLETE
				|| command == CommandDetails.COMMANDS.INCOMPLETE || command == CommandDetails.COMMANDS.UPDATE;
	}

	/*************************************************************************************************
	 ************************************* VALIDATIONS **********************************************
	 *************************************************************************************************/

	/**
	 * Validates Command Details parameters before creating Command Details and
	 * return to Control
	 */
	private static void validateCommandDetails(CommandDetails.COMMANDS command, int ID, String description, Date start,
			Date end, String input) throws InvalidParametersException, InvalidTimeDateInputException {
		validateCommand(command, ID, description, start, end, input);
		validateDateTime(start, end);
	}

	/**
	 * Validates if start and end time/date are correct start date is before end
	 * date start date have not yet past end date have not yet past
	 * 
	 * @throws InvalidTimeDateInputException
	 *             when time/date format is not supported
	 */
	private static void validateDateTime(Date start, Date end) throws InvalidTimeDateInputException {
		Calendar today = Calendar.getInstance();
		Date todayDate = today.getTime();

		if (end != null && start != null) {
			if (end.before(start)) {
				throw new InvalidTimeDateInputException("End Date before Start Date");
			}
		}

		if (end != null) {
			if (end.before(todayDate)) {
				throw new InvalidTimeDateInputException("event already ended");
			}
		}
	}

	/**
	 * Validates if parameters are correct given its corresponding Command Type
	 *
	 * @throws InvalidParametersException
	 *             when required parameters are missing
	 */
	private static void validateCommand(CommandDetails.COMMANDS command, int ID, String description, Date start,
			Date end, String input) throws InvalidParametersException {
		String checkDescription = description;
		try {
			checkDescription = checkDescription.replaceAll(" ", "");
		} catch (NullPointerException e) {
			// no descriptions
		}

		if (command == CommandDetails.COMMANDS.HELP || command == CommandDetails.COMMANDS.REDO
				|| command == CommandDetails.COMMANDS.UNDO || command == CommandDetails.COMMANDS.ALL
				|| command == CommandDetails.COMMANDS.FLOATING || command == CommandDetails.COMMANDS.EVENTS
				|| command == CommandDetails.COMMANDS.DEADLINES || command == CommandDetails.COMMANDS.EXIT) {
			if (description != null || start != null || end != null || ID != NO_ID) {
				throw new InvalidParametersException(input);
			}
		}
		if (command == CommandDetails.COMMANDS.DELETE || command == CommandDetails.COMMANDS.COMPLETE
				|| command == CommandDetails.COMMANDS.INCOMPLETE) {
			if (description != null || start != null || end != null) {
				throw new InvalidParametersException(input);
			}
		}
		if (command == CommandDetails.COMMANDS.ADD || command == CommandDetails.COMMANDS.UPDATE) {
			if (description == null) {
				throw new InvalidParametersException(input);
			}

			if (checkDescription.equals("")) {
				throw new InvalidParametersException(input);
			}
			
			if(start!=null && end==null){
				throw new InvalidParametersException(input);
			}
		}
		if (command == CommandDetails.COMMANDS.SET) {
			if (description == null || start != null || end != null) {
				throw new InvalidParametersException(input);
			}
		}
		if (command == CommandDetails.COMMANDS.SEARCH) {
			if (description == null && (start == null && end == null)) {
				throw new InvalidParametersException(input);
			}
			if (checkDescription != null) {
				if (checkDescription.equals("") && (start == null && end == null)) {
					throw new InvalidParametersException(input);
				}
			}
		}
	}

	/**
	 * Validates the user string input from control
	 * 
	 * @throws InvalidParametersException
	 *             when required parameters are missing
	 */
	private static void validateInput(ArrayList<String> strTokens, String input) throws InvalidParametersException {
		validateDates(input);
		validateStartDate(strTokens);
		validateEndDate(strTokens);

	}

	/**
	 * Validates if there are multiple start time
	 * 
	 * @throws InvalidParametersException
	 *             when required parameters are missing
	 */
	private static void validateStartDate(ArrayList<String> strTokens) throws InvalidParametersException {
		int count;
		count = 0;
		for (String tokens : strTokens) {
			if (tokens.equalsIgnoreCase("FROM") || tokens.equalsIgnoreCase("AT")) {
				count++;
			}
		}
		if (count > 1) {
			throw new InvalidParametersException("multiple start date");
		}
	}

	/**
	 * Validates if there are multiple end time/date
	 * 
	 * @throws InvalidParametersException
	 *             when required parameters are missing
	 */
	private static void validateEndDate(ArrayList<String> strTokens) throws InvalidParametersException {
		int count;
		count = 0;

		for (String tokens : strTokens) {
			if (tokens.equalsIgnoreCase("BY") || tokens.equalsIgnoreCase("TO") || tokens.equalsIgnoreCase("ON")) {
				count++;
			}
		}
		if (count > 1) {
			throw new InvalidParametersException("multiple end date");
		}
	}

	/**
	 * Validates if there are Start and End that does not match
	 * 
	 * @throws InvalidParametersException
	 *             when required parameters are missing
	 */
	private static void validateDates(String input) throws InvalidParametersException {

		input = input.trim().replaceAll(" +", " ").toUpperCase();
		ArrayList<String> strTokens = new ArrayList<String>(Arrays.asList(input.split(" ")));


		if (strTokens.contains("AT")
				&& (strTokens.contains("ON") || strTokens.contains("BY") || strTokens.contains("TO"))) {
			throw new InvalidParametersException("AT matched with end date");
		}
		
	}

}
```
###### parser\ParserTest.java
``` java

import static org.junit.Assert.*;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import org.junit.Test;
import commandDetail.CommandDetails;

public class ParserTest {

	/*************************************************************************************************
	 ************************************* START DATE FORMAT TEST ************************************
	 *************************************************************************************************/
	
	
	/** following tests all different Date format when parsed as start time
	*/
	
	@Test
	public void startTest1() throws Exception {
		String input = "add dinner FROM 1234 01 january 23 to 01 feb 25";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd MMMM yy");
		Date date = sdf.parse("1234 01 january 23");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest2() throws Exception {
		String input = "add dinner FROM 12.34 01 january 23 to 01 feb 25";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd MMMM yy");
		Date date = sdf.parse("12.34 01 january 23");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest3() throws Exception {
		String input = "add dinner FROM 12:34 01 january 23 to 01 feb 25";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd MMMM yy");
		Date date = sdf.parse("12:34 01 january 23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest4() throws Exception {
		String input = "add dinner FROM 1234am 01 january 23 to 01 feb 25";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd MMMM yy");
		Date date = sdf.parse("1234am 01 january 23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest5() throws Exception {
		String input = "add dinner FROM 7pm 01 jan 2023 to 01 feb 25";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd MMMM yy");
		Date date = sdf.parse("7pm 01 jan 2023");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest7() throws Exception {
		String input = "add dinner AT 7.30pm 01 january 16";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd MMMM yy");
		Date date = sdf.parse("7.30pm 01 january 16");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest8() throws Exception {
		String input = "add dinner AT 7:30pm 01 january 16";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd MMMM yy");
		Date date = sdf.parse("7:30pm 01 january 16");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest9() throws Exception {
		String input = "add dinner AT 01 january 16";

		SimpleDateFormat sdf = new SimpleDateFormat("dd MMMM yy");
		Date date = sdf.parse("01 january 16");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest10() throws Exception {
		String input = "add dinner AT 1330 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd MM yy");
		Date date = sdf.parse("1330 01 01 18");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest11() throws Exception {
		String input = "add dinner AT 13.30 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd MM yy");
		Date date = sdf.parse("13.30 01 01 18");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest12() throws Exception {
		String input = "add dinner AT 13:30 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd MM yy");
		Date date = sdf.parse("13:30 01 01 18");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest13() throws Exception {
		String input = "add dinner AT 1230pm 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd MM yy");
		Date date = sdf.parse("1230pm 01 01 18");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest14() throws Exception {
		String input = "add dinner AT 11pm 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd MM yy");
		Date date = sdf.parse("11pm 01 01 18");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest15() throws Exception {
		String input = "add dinner AT 130pm 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd MM yy");
		Date date = sdf.parse("130pm 01 01 18");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest16() throws Exception {
		String input = "add dinner AT 11.30pm 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd MM yy");
		Date date = sdf.parse("11.30pm 01 01 18");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest17() throws Exception {
		String input = "add dinner AT 11:30pm 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd MM yy");
		Date date = sdf.parse("11:30pm 01 01 18");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest18() throws Exception {
		String input = "add dinner AT 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("dd MM yy");
		Date date = sdf.parse("01 01 18");

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest19() throws Exception {
		String input = "add dinner AT 1234 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd MMMM");
		Date date = sdf.parse("1234 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest20() throws Exception {
		String input = "add dinner AT 12.34 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd MMMM");
		Date date = sdf.parse("12.34 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest21() throws Exception {
		String input = "add dinner AT 12:34 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd MMMM");
		Date date = sdf.parse("12:34 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest22() throws Exception {
		String input = "add dinner AT 11pm 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd MMMM");
		Date date = sdf.parse("11pm 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest23() throws Exception {
		String input = "add dinner AT 530pm 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd MMMM");
		Date date = sdf.parse("530pm 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest24() throws Exception {
		String input = "add dinner AT 530pm 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd MMMM");
		Date date = sdf.parse("530pm 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest25() throws Exception {
		String input = "add dinner AT 05.30pm 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd MMMM");
		Date date = sdf.parse("05.30pm 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest26() throws Exception {
		String input = "add dinner AT 05:30pm 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd MMMM");
		Date date = sdf.parse("05:30pm 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest27() throws Exception {
		String input = "add dinner AT 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("dd MMMM");
		Date date = sdf.parse("01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest28() throws Exception {
		String input = "add dinner AT 1334 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd MM");
		Date date = sdf.parse("1334 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest29() throws Exception {
		String input = "add dinner AT 13.34 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd MM");
		Date date = sdf.parse("13.34 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest30() throws Exception {
		String input = "add dinner AT 13:34 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd MM");
		Date date = sdf.parse("13:34 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest31() throws Exception {
		String input = "add dinner AT 1230am 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd MM");
		Date date = sdf.parse("1230am 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest32() throws Exception {
		String input = "add dinner AT 12pm 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd MM");
		Date date = sdf.parse("12pm 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest33() throws Exception {
		String input = "add dinner AT 130pm 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd MM");
		Date date = sdf.parse("130pm 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest34() throws Exception {
		String input = "add dinner AT 10.30pm 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd MM");
		Date date = sdf.parse("10.30pm 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest35() throws Exception {
		String input = "add dinner AT 10:30pm 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd MM");
		Date date = sdf.parse("10:30pm 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest36() throws Exception {
		String input = "add dinner AT 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("dd MM");
		Date date = sdf.parse(" 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest37() throws Exception {
		String input = "add dinner AT 2359 01/december/23";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd/MMMM/yy");
		Date date = sdf.parse("2359 01/december/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest38() throws Exception {
		String input = "add dinner AT 23.59 01/december/23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd/MMMMM/yy");
		Date date = sdf.parse("23.59 01/december/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest39() throws Exception {
		String input = "add dinner AT 23:59 01/december/23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd/MMMMM/yy");
		Date date = sdf.parse("23:59 01/december/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest40() throws Exception {
		String input = "add dinner AT 1130pm 01/december/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd/MMMM/yy");
		Date date = sdf.parse("1130pm 01/december/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest41() throws Exception {
		String input = "add dinner AT 12am 01/december/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd/MMMM/yy");
		Date date = sdf.parse("12am 01/december/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest42() throws Exception {
		String input = "add dinner AT 130am 01/december/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd/MMMM/yy");
		Date date = sdf.parse("130am 01/december/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest43() throws Exception {
		String input = "add dinner AT 11.30am 01/december/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd/MMMM/yy");
		Date date = sdf.parse("11.30am 01/december/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest44() throws Exception {
		String input = "add dinner AT 11:30am 01/december/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd/MMMM/yy");
		Date date = sdf.parse("11:30am 01/december/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest45() throws Exception {
		String input = "add dinner AT 01/december/23";

		SimpleDateFormat sdf = new SimpleDateFormat("dd/MMMM/yy");
		Date date = sdf.parse("01/december/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest46() throws Exception {
		String input = "add dinner AT 2359 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd/MM/yy");
		Date date = sdf.parse("2359 01/01/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest47() throws Exception {
		String input = "add dinner AT 23.59 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd/MM/yy");
		Date date = sdf.parse("23.59 01/01/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest48() throws Exception {
		String input = "add dinner AT 23:59 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd/MM/yy");
		Date date = sdf.parse("23:59 01/01/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest49() throws Exception {
		String input = "add dinner AT 1230pm 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd/MM/yy");
		Date date = sdf.parse("1230pm 01/01/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest50() throws Exception {
		String input = "add dinner AT 12am 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd/MM/yy");
		Date date = sdf.parse("12am 01/01/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest51() throws Exception {
		String input = "add dinner AT 130am 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd/MM/yy");
		Date date = sdf.parse("130am 01/01/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest52() throws Exception {
		String input = "add dinner AT 11.30am 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd/MM/yy");
		Date date = sdf.parse("11.30am 01/01/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest53() throws Exception {
		String input = "add dinner AT 11:30am 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd/MM/yy");
		Date date = sdf.parse("11:30am 01/01/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest54() throws Exception {
		String input = "add dinner AT 11/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yy");
		Date date = sdf.parse("11/01/23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest55() throws Exception {
		String input = "add dinner AT 1330 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd/MMMM");
		Date date = sdf.parse("1330 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest56() throws Exception {
		String input = "add dinner AT 14.30 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd/MMMM");
		Date date = sdf.parse("14.30 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest57() throws Exception {
		String input = "add dinner AT 14:30 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd/MMMM");
		Date date = sdf.parse("14:30 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest58() throws Exception {
		String input = "add dinner AT 1230pm 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd/MMMM");
		Date date = sdf.parse("1230pm 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest59() throws Exception {
		String input = "add dinner AT 12pm 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd/MMMM");
		Date date = sdf.parse("12pm 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest60() throws Exception {
		String input = "add dinner AT 130pm 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd/MMMM");
		Date date = sdf.parse("130pm 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest61() throws Exception {
		String input = "add dinner AT 11.30pm 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd/MMMM");
		Date date = sdf.parse("11.30pm 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest62() throws Exception {
		String input = "add dinner AT 11:30pm 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd/MMMM");
		Date date = sdf.parse("11:30pm 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest63() throws Exception {
		String input = "add dinner AT 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("dd/MMMM");
		Date date = sdf.parse("11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest64() throws Exception {
		String input = "add dinner AT 1230 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd/MM");
		Date date = sdf.parse("1230 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest65() throws Exception {
		String input = "add dinner AT 1230 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd/MM");
		Date date = sdf.parse("1230 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest66() throws Exception {
		String input = "add dinner AT 12.30 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd/MM");
		Date date = sdf.parse("12.30 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest67() throws Exception {
		String input = "add dinner AT 12:30 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd/MM");
		Date date = sdf.parse("12:30 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest68() throws Exception {
		String input = "add dinner AT 1130pm 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd/MM");
		Date date = sdf.parse("1130pm 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest69() throws Exception {
		String input = "add dinner AT 11pm 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd/MM");
		Date date = sdf.parse("11pm 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest70() throws Exception {
		String input = "add dinner AT 130pm 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd/MM");
		Date date = sdf.parse("130pm 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest71() throws Exception {
		String input = "add dinner AT 11.30pm 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd/MM");
		Date date = sdf.parse("11.30pm 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest72() throws Exception {
		String input = "add dinner AT 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("dd/MM");
		Date date = sdf.parse("11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest73() throws Exception {
		String input = "add dinner AT 130pm 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd/MM");
		Date date = sdf.parse("130pm 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest74() throws Exception {
		String input = "add dinner AT 2250 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd-MMMM-yy");
		Date date = sdf.parse("2250 11-april-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest75() throws Exception {
		String input = "add dinner AT 22.50 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd-MMMM-yy");
		Date date = sdf.parse("22.50 11-april-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest76() throws Exception {
		String input = "add dinner AT 22:50 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd-MMMM-yy");
		Date date = sdf.parse("22:50 11-april-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest77() throws Exception {
		String input = "add dinner AT 1150pm 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd-MMMM-yy");
		Date date = sdf.parse("1150pm 11-april-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest78() throws Exception {
		String input = "add dinner AT 11pm 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd-MMMM-yy");
		Date date = sdf.parse("11pm 11-april-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest79() throws Exception {
		String input = "add dinner AT 156pm 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd-MMMM-yy");
		Date date = sdf.parse("156pm 11-april-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest80() throws Exception {
		String input = "add dinner AT 11.56pm 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd-MMMM-yy");
		Date date = sdf.parse("11.56pm 11-april-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest81() throws Exception {
		String input = "add dinner AT 11:56pm 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd-MMMM-yy");
		Date date = sdf.parse("11:56pm 11-april-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest82() throws Exception {
		String input = "add dinner AT 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("dd-MMMM-yy");
		Date date = sdf.parse("11-april-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest83() throws Exception {
		String input = "add dinner AT 22.30 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd-MM-yy");
		Date date = sdf.parse("22.30 11-05-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest84() throws Exception {
		String input = "add dinner AT 22:30 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd-MM-yy");
		Date date = sdf.parse("22:30 11-05-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest85() throws Exception {
		String input = "add dinner AT 1130pm 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd-MM-yy");
		Date date = sdf.parse("1130pm 11-05-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest86() throws Exception {
		String input = "add dinner AT 11pm 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd-MM-yy");
		Date date = sdf.parse("11pm 11-05-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest87() throws Exception {
		String input = "add dinner AT 137pm 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd-MM-yy");
		Date date = sdf.parse("137pm 11-05-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest88() throws Exception {
		String input = "add dinner AT 11.37pm 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd-MM-yy");
		Date date = sdf.parse("11.37pm 11-05-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest89() throws Exception {
		String input = "add dinner AT 11:37pm 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd-MM-yy");
		Date date = sdf.parse("11:37pm 11-05-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest90() throws Exception {
		String input = "add dinner AT 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yy");
		Date date = sdf.parse("11-05-23");
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest92() throws Exception {
		String input = "add dinner AT 23.59 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd-MMMM");
		Date date = sdf.parse("23.59 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest93() throws Exception {
		String input = "add dinner AT 23:59 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd-MMMM");
		Date date = sdf.parse("23:59 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest94() throws Exception {
		String input = "add dinner AT 1130pm 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd-MMMM");
		Date date = sdf.parse("1130pm 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest95() throws Exception {
		String input = "add dinner AT 11pm 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd-MMMM");
		Date date = sdf.parse("11pm 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest96() throws Exception {
		String input = "add dinner AT 130pm 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd-MMMM");
		Date date = sdf.parse("130pm 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest97() throws Exception {
		String input = "add dinner AT 11.30pm 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd-MMMM");
		Date date = sdf.parse("11.30pm 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest98() throws Exception {
		String input = "add dinner AT 11:30pm 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd-MMMM");
		Date date = sdf.parse("11:30pm 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest99() throws Exception {
		String input = "add dinner AT 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("dd-MMMM");
		Date date = sdf.parse("11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest100() throws Exception {
		String input = "add dinner AT 2359 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd-MM");
		Date date = sdf.parse("2359 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest101() throws Exception {
		String input = "add dinner AT 23.59 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd-MM");
		Date date = sdf.parse("23.59 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest102() throws Exception {
		String input = "add dinner AT 23:59 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd-MM");
		Date date = sdf.parse("23:59 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest103() throws Exception {
		String input = "add dinner AT 1134pm 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd-MM");
		Date date = sdf.parse("1134pm 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest104() throws Exception {
		String input = "add dinner AT 11pm 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd-MM");
		Date date = sdf.parse("11pm 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest105() throws Exception {
		String input = "add dinner AT 130pm 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd-MM");
		Date date = sdf.parse("130pm 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest106() throws Exception {
		String input = "add dinner AT 11.30pm 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd-MM");
		Date date = sdf.parse("11.30pm 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest107() throws Exception {
		String input = "add dinner AT 11:30pm 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd-MM");
		Date date = sdf.parse("11:30pm 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest108() throws Exception {
		String input = "add dinner AT 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("dd-MM");
		Date date = sdf.parse("11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest109() throws Exception {
		String input = "add dinner AT 1159pm";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma");
		Date date = sdf.parse("1159pm");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	private Date setDefaultMonthYear(Date date) {
		Calendar cal = Calendar.getInstance();
		cal.setTime(date);
		cal.set(Calendar.YEAR, Calendar.getInstance().get(Calendar.YEAR));
		cal.set(Calendar.DAY_OF_YEAR, Calendar.getInstance().get(Calendar.DAY_OF_YEAR));
		date = cal.getTime();
		return date;
	}

	@Test
	public void startTest110() throws Exception {
		String input = "add dinner AT 11pm";

		SimpleDateFormat sdf = new SimpleDateFormat("hha");
		Date date = sdf.parse("11pm");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest111() throws Exception {
		String input = "add dinner AT 959pm";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma");
		Date date = sdf.parse("959pm");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest112() throws Exception {
		String input = "add dinner AT 11.59pm";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma");
		Date date = sdf.parse("11.59pm");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest113() throws Exception {
		String input = "add dinner AT 11:59pm";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma");
		Date date = sdf.parse("11:59pm");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest114() throws Exception {
		String input = "add dinner AT 23.59";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm");
		Date date = sdf.parse("23.59");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest115() throws Exception {
		String input = "add dinner AT 23:59";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm");
		Date date = sdf.parse("23:59");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest117() throws Exception {
		String input = "add dinner AT 2359";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm");
		Date date = sdf.parse("2359");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest118() throws Exception {
		SimpleDateFormat sdf = new SimpleDateFormat("HHmm");
		Date date = sdf.parse("0000");
		String input = "add dinner AT Monday";

		Calendar cal = Calendar.getInstance();
		cal.setTime(date);
		cal.set(Calendar.YEAR, Calendar.getInstance().get(Calendar.YEAR));
		cal.set(Calendar.DAY_OF_YEAR, Calendar.getInstance().get(Calendar.DAY_OF_YEAR));
		int days = (Calendar.MONDAY - cal.get(Calendar.DAY_OF_WEEK)) % 7;
		if (days <= 0) {
			days = days + 7;
		}
		cal.add(Calendar.DAY_OF_YEAR, days);

		date = cal.getTime();
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest119() throws Exception {
		SimpleDateFormat sdf = new SimpleDateFormat("HHmm");
		Date date = sdf.parse("1200pm");
		String input = "add dinner AT 1200 friday";

		Calendar cal = Calendar.getInstance();
		cal.setTime(date);

		cal.set(Calendar.YEAR, Calendar.getInstance().get(Calendar.YEAR));
		cal.set(Calendar.DAY_OF_YEAR, Calendar.getInstance().get(Calendar.DAY_OF_YEAR));

		Calendar now = Calendar.getInstance();
		int weekday = cal.get(Calendar.DAY_OF_WEEK);
		int HOUR_OF_DAY = cal.get(Calendar.HOUR_OF_DAY);
		int MINUTE = cal.get(Calendar.MINUTE);
		int NOW_HOUR_OF_DAY = now.get(Calendar.HOUR_OF_DAY);
		int NOW_MINUTE = now.get(Calendar.MINUTE);

		if (weekday != Calendar.FRIDAY) {
			int days = (Calendar.FRIDAY - weekday) % 7;
			if (days < 0) {
				days = days + 7;
			}
			cal.add(Calendar.DAY_OF_YEAR, days);
		} else if (HOUR_OF_DAY < NOW_HOUR_OF_DAY || (HOUR_OF_DAY == NOW_HOUR_OF_DAY && MINUTE < NOW_MINUTE)) {
			cal.add(Calendar.DAY_OF_YEAR, 7);
		}
		date = cal.getTime();
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test
	public void startTest120() throws Exception {
		SimpleDateFormat sdf = new SimpleDateFormat("HHmm");
		Date date = sdf.parse("0000");
		String input = "add dinner AT TOMORROW";

		Calendar cal = Calendar.getInstance();
		cal.setTime(date);
		cal.set(Calendar.YEAR, Calendar.getInstance().get(Calendar.YEAR));
		cal.set(Calendar.DAY_OF_YEAR, Calendar.getInstance().get(Calendar.DAY_OF_YEAR));
		cal.add(Calendar.DAY_OF_YEAR, 1);

		date = cal.getTime();
		assertEquals(date, Parser.parse(input).getStartDate());
	}

	/*************************************************************************************************
	 ************************************* END DATE FORMAT TEST **************************************
	 *************************************************************************************************/
	
	/** following tests all different Date format when parsed as end time
	*/
	public void endTest1() throws Exception {
		String input = "add dinner on 1234 01 december 23";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd MMMM yy");
		Date date = sdf.parse("1234 01 december 23");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest2() throws Exception {
		String input = "add dinner on 12.34 01 december 23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd MMMM yy");
		Date date = sdf.parse("12.34 01 december 23");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest3() throws Exception {
		String input = "add dinner on 12:34 01 december 23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd MMMM yy");
		Date date = sdf.parse("12:34 01 december 23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest4() throws Exception {
		String input = "add dinner on 1234am 01 december 23";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd MMMM yy");
		Date date = sdf.parse("1234am 01 december 23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest5() throws Exception {
		String input = "add dinner on 7pm 01 jan 2023";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd MMMM yy");
		Date date = sdf.parse("7pm 01 jan 2023");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest7() throws Exception {
		String input = "add dinner on 7.30pm 01 december 15";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd MMMM yy");
		Date date = sdf.parse("7.30pm 01 december 15");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest8() throws Exception {
		String input = "add dinner on 7:30pm 01 december 15";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd MMMM yy");
		Date date = sdf.parse("7:30pm 01 december 15");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest9() throws Exception {
		String input = "add dinner on 01 december 15";

		SimpleDateFormat sdf = new SimpleDateFormat("dd MMMM yy");
		Date date = sdf.parse("01 december 15");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest10() throws Exception {
		String input = "add dinner on 1330 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd MM yy");
		Date date = sdf.parse("1330 01 01 18");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest11() throws Exception {
		String input = "add dinner on 13.30 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd MM yy");
		Date date = sdf.parse("13.30 01 01 18");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest12() throws Exception {
		String input = "add dinner on 13:30 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd MM yy");
		Date date = sdf.parse("13:30 01 01 18");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest13() throws Exception {
		String input = "add dinner on 1230pm 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd MM yy");
		Date date = sdf.parse("1230pm 01 01 18");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest14() throws Exception {
		String input = "add dinner on 11pm 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd MM yy");
		Date date = sdf.parse("11pm 01 01 18");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest15() throws Exception {
		String input = "add dinner on 130pm 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd MM yy");
		Date date = sdf.parse("130pm 01 01 18");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest16() throws Exception {
		String input = "add dinner on 11.30pm 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd MM yy");
		Date date = sdf.parse("11.30pm 01 01 18");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest17() throws Exception {
		String input = "add dinner on 11:30pm 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd MM yy");
		Date date = sdf.parse("11:30pm 01 01 18");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest18() throws Exception {
		String input = "add dinner on 01 01 18";

		SimpleDateFormat sdf = new SimpleDateFormat("dd MM yy");
		Date date = sdf.parse("01 01 18");

		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest19() throws Exception {
		String input = "add dinner on 1234 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd MMMM");
		Date date = sdf.parse("1234 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	private Date setDefaultYear(Date date) {
		Calendar cal = Calendar.getInstance();
		cal.setTime(date);
		cal.set(Calendar.YEAR, Calendar.getInstance().get(Calendar.YEAR));
		date = cal.getTime();
		return date;
	}

	@Test
	public void endTest20() throws Exception {
		String input = "add dinner on 12.34 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd MMMM");
		Date date = sdf.parse("12.34 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest21() throws Exception {
		String input = "add dinner on 12:34 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd MMMM");
		Date date = sdf.parse("12:34 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest22() throws Exception {
		String input = "add dinner on 11pm 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd MMMM");
		Date date = sdf.parse("11pm 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest23() throws Exception {
		String input = "add dinner on 530pm 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd MMMM");
		Date date = sdf.parse("530pm 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest24() throws Exception {
		String input = "add dinner on 530pm 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd MMMM");
		Date date = sdf.parse("530pm 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest25() throws Exception {
		String input = "add dinner on 05.30pm 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd MMMM");
		Date date = sdf.parse("05.30pm 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest26() throws Exception {
		String input = "add dinner on 05:30pm 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd MMMM");
		Date date = sdf.parse("05:30pm 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest27() throws Exception {
		String input = "add dinner on 01 december";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd MMMM");
		Date date = sdf.parse("2359 01 december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest28() throws Exception {
		String input = "add dinner on 1334 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd MM");
		Date date = sdf.parse("1334 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest29() throws Exception {
		String input = "add dinner on 13.34 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd MM");
		Date date = sdf.parse("13.34 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest30() throws Exception {
		String input = "add dinner on 13:34 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd MM");
		Date date = sdf.parse("13:34 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest31() throws Exception {
		String input = "add dinner on 1230am 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd MM");
		Date date = sdf.parse("1230am 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest32() throws Exception {
		String input = "add dinner on 12pm 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd MM");
		Date date = sdf.parse("12pm 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest33() throws Exception {
		String input = "add dinner on 130pm 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd MM");
		Date date = sdf.parse("130pm 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest34() throws Exception {
		String input = "add dinner on 10.30pm 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd MM");
		Date date = sdf.parse("10.30pm 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest35() throws Exception {
		String input = "add dinner on 10:30pm 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd MM");
		Date date = sdf.parse("10:30pm 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest36() throws Exception {
		String input = "add dinner on 01 12";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd MM");
		Date date = sdf.parse("2359 01 12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest37() throws Exception {
		String input = "add dinner on 2359 01/january/23";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd/MMMM/yy");
		Date date = sdf.parse("2359 01/january/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest38() throws Exception {
		String input = "add dinner on 23.59 01/january/23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd/MMMMM/yy");
		Date date = sdf.parse("23.59 01/january/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest39() throws Exception {
		String input = "add dinner on 23:59 01/january/23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd/MMMMM/yy");
		Date date = sdf.parse("23:59 01/january/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest40() throws Exception {
		String input = "add dinner on 1130pm 01/january/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd/MMMM/yy");
		Date date = sdf.parse("1130pm 01/january/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest41() throws Exception {
		String input = "add dinner on 12am 01/january/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd/MMMM/yy");
		Date date = sdf.parse("12am 01/january/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest42() throws Exception {
		String input = "add dinner on 130am 01/january/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd/MMMM/yy");
		Date date = sdf.parse("130am 01/january/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest43() throws Exception {
		String input = "add dinner on 11.30am 01/january/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd/MMMM/yy");
		Date date = sdf.parse("11.30am 01/january/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest44() throws Exception {
		String input = "add dinner on 11:30am 01/january/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd/MMMM/yy");
		Date date = sdf.parse("11:30am 01/january/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest45() throws Exception {
		String input = "add dinner on 01/january/23";

		SimpleDateFormat sdf = new SimpleDateFormat("dd/MMMM/yy");
		Date date = sdf.parse("01/january/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest46() throws Exception {
		String input = "add dinner on 2359 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd/MM/yy");
		Date date = sdf.parse("2359 01/01/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest47() throws Exception {
		String input = "add dinner on 23.59 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd/MM/yy");
		Date date = sdf.parse("23.59 01/01/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest48() throws Exception {
		String input = "add dinner on 23:59 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd/MM/yy");
		Date date = sdf.parse("23:59 01/01/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest49() throws Exception {
		String input = "add dinner on 1230pm 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd/MM/yy");
		Date date = sdf.parse("1230pm 01/01/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest50() throws Exception {
		String input = "add dinner on 12am 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd/MM/yy");
		Date date = sdf.parse("12am 01/01/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest51() throws Exception {
		String input = "add dinner on 130am 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd/MM/yy");
		Date date = sdf.parse("130am 01/01/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest52() throws Exception {
		String input = "add dinner on 11.30am 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd/MM/yy");
		Date date = sdf.parse("11.30am 01/01/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest53() throws Exception {
		String input = "add dinner on 11:30am 01/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd/MM/yy");
		Date date = sdf.parse("11:30am 01/01/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest54() throws Exception {
		String input = "add dinner on 11/01/23";

		SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yy");
		Date date = sdf.parse("11/01/23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest55() throws Exception {
		String input = "add dinner on 1330 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd/MMMM");
		Date date = sdf.parse("1330 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest56() throws Exception {
		String input = "add dinner on 14.30 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd/MMMM");
		Date date = sdf.parse("14.30 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest57() throws Exception {
		String input = "add dinner on 14:30 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd/MMMM");
		Date date = sdf.parse("14:30 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest58() throws Exception {
		String input = "add dinner on 1230pm 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd/MMMM");
		Date date = sdf.parse("1230pm 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest59() throws Exception {
		String input = "add dinner on 12pm 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd/MMMM");
		Date date = sdf.parse("12pm 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest60() throws Exception {
		String input = "add dinner on 130pm 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd/MMMM");
		Date date = sdf.parse("130pm 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest61() throws Exception {
		String input = "add dinner on 11.30pm 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd/MMMM");
		Date date = sdf.parse("11.30pm 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest62() throws Exception {
		String input = "add dinner on 11:30pm 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd/MMMM");
		Date date = sdf.parse("11:30pm 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest63() throws Exception {
		String input = "add dinner on 11/december";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd/MMMM");
		Date date = sdf.parse("2359 11/december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest64() throws Exception {
		String input = "add dinner on 1230 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd/MM");
		Date date = sdf.parse("1230 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest65() throws Exception {
		String input = "add dinner on 1230 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd/MM");
		Date date = sdf.parse("1230 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest66() throws Exception {
		String input = "add dinner on 12.30 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd/MM");
		Date date = sdf.parse("12.30 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest67() throws Exception {
		String input = "add dinner on 12:30 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd/MM");
		Date date = sdf.parse("12:30 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest68() throws Exception {
		String input = "add dinner on 1130pm 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd/MM");
		Date date = sdf.parse("1130pm 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest69() throws Exception {
		String input = "add dinner on 11pm 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd/MM");
		Date date = sdf.parse("11pm 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest70() throws Exception {
		String input = "add dinner on 130pm 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd/MM");
		Date date = sdf.parse("130pm 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest71() throws Exception {
		String input = "add dinner on 11.30pm 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd/MM");
		Date date = sdf.parse("11.30pm 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest72() throws Exception {
		String input = "add dinner on 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd/MM");
		Date date = sdf.parse("2359 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest73() throws Exception {
		String input = "add dinner on 130pm 11/12";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd/MM");
		Date date = sdf.parse("130pm 11/12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest74() throws Exception {
		String input = "add dinner on 2250 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd-MMMM-yy");
		Date date = sdf.parse("2250 11-april-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest75() throws Exception {
		String input = "add dinner on 22.50 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd-MMMM-yy");
		Date date = sdf.parse("22.50 11-april-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest76() throws Exception {
		String input = "add dinner on 22:50 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd-MMMM-yy");
		Date date = sdf.parse("22:50 11-april-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest77() throws Exception {
		String input = "add dinner on 1150pm 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd-MMMM-yy");
		Date date = sdf.parse("1150pm 11-april-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest78() throws Exception {
		String input = "add dinner on 11pm 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd-MMMM-yy");
		Date date = sdf.parse("11pm 11-april-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest79() throws Exception {
		String input = "add dinner on 156pm 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd-MMMM-yy");
		Date date = sdf.parse("156pm 11-april-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest80() throws Exception {
		String input = "add dinner on 11.56pm 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd-MMMM-yy");
		Date date = sdf.parse("11.56pm 11-april-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest81() throws Exception {
		String input = "add dinner on 11:56pm 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd-MMMM-yy");
		Date date = sdf.parse("11:56pm 11-april-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest82() throws Exception {
		String input = "add dinner on 11-april-23";

		SimpleDateFormat sdf = new SimpleDateFormat("dd-MMMM-yy");
		Date date = sdf.parse("11-april-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest83() throws Exception {
		String input = "add dinner on 22.30 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd-MM-yy");
		Date date = sdf.parse("22.30 11-05-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest84() throws Exception {
		String input = "add dinner on 22:30 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd-MM-yy");
		Date date = sdf.parse("22:30 11-05-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest85() throws Exception {
		String input = "add dinner on 1130pm 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd-MM-yy");
		Date date = sdf.parse("1130pm 11-05-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest86() throws Exception {
		String input = "add dinner on 11pm 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd-MM-yy");
		Date date = sdf.parse("11pm 11-05-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest87() throws Exception {
		String input = "add dinner on 137pm 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd-MM-yy");
		Date date = sdf.parse("137pm 11-05-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest88() throws Exception {
		String input = "add dinner on 11.37pm 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd-MM-yy");
		Date date = sdf.parse("11.37pm 11-05-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest89() throws Exception {
		String input = "add dinner on 11:37pm 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd-MM-yy");
		Date date = sdf.parse("11:37pm 11-05-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest90() throws Exception {
		String input = "add dinner on 11-05-23";

		SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yy");
		Date date = sdf.parse("11-05-23");
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest92() throws Exception {
		String input = "add dinner on 23.59 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd-MMMM");
		Date date = sdf.parse("23.59 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest93() throws Exception {
		String input = "add dinner on 23:59 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd-MMMM");
		Date date = sdf.parse("23:59 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest94() throws Exception {
		String input = "add dinner on 1130pm 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd-MMMM");
		Date date = sdf.parse("1130pm 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest95() throws Exception {
		String input = "add dinner on 11pm 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd-MMMM");
		Date date = sdf.parse("11pm 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest96() throws Exception {
		String input = "add dinner on 130pm 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd-MMMM");
		Date date = sdf.parse("130pm 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest97() throws Exception {
		String input = "add dinner on 11.30pm 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd-MMMM");
		Date date = sdf.parse("11.30pm 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest98() throws Exception {
		String input = "add dinner on 11:30pm 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd-MMMM");
		Date date = sdf.parse("11:30pm 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest99() throws Exception {
		String input = "add dinner on 11-december";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd-MMMM");
		Date date = sdf.parse("2359 11-december");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest100() throws Exception {
		String input = "add dinner BY 2359 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd-MM");
		Date date = sdf.parse("2359 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest101() throws Exception {
		String input = "add dinner on 23.59 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm dd-MM");
		Date date = sdf.parse("23.59 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest102() throws Exception {
		String input = "add dinner BY 23:59 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm dd-MM");
		Date date = sdf.parse("23:59 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest103() throws Exception {
		String input = "add dinner on 1134pm 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma dd-MM");
		Date date = sdf.parse("1134pm 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest104() throws Exception {
		String input = "add dinner on 11pm 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("hha dd-MM");
		Date date = sdf.parse("11pm 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest105() throws Exception {
		String input = "add dinner on 130pm 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma dd-MM");
		Date date = sdf.parse("130pm 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest106() throws Exception {
		String input = "add dinner on 11.30pm 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma dd-MM");
		Date date = sdf.parse("11.30pm 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest107() throws Exception {
		String input = "add dinner on 11:30pm 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma dd-MM");
		Date date = sdf.parse("11:30pm 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest108() throws Exception {
		String input = "add dinner on 11-12";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm dd-MM");
		Date date = sdf.parse("2359 11-12");
		date = setDefaultYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest109() throws Exception {
		String input = "add dinner on 1159pm";

		SimpleDateFormat sdf = new SimpleDateFormat("hhmma");
		Date date = sdf.parse("1159pm");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest110() throws Exception {
		String input = "add dinner on 11pm";

		SimpleDateFormat sdf = new SimpleDateFormat("hha");
		Date date = sdf.parse("11pm");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest111() throws Exception {
		String input = "add dinner on 959pm";

		SimpleDateFormat sdf = new SimpleDateFormat("hmma");
		Date date = sdf.parse("959pm");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest112() throws Exception {
		String input = "add dinner on 11.59pm";

		SimpleDateFormat sdf = new SimpleDateFormat("hh.mma");
		Date date = sdf.parse("11.59pm");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest113() throws Exception {
		String input = "add dinner on 11:59pm";

		SimpleDateFormat sdf = new SimpleDateFormat("hh:mma");
		Date date = sdf.parse("11:59pm");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest114() throws Exception {
		String input = "add dinner on 23.59";

		SimpleDateFormat sdf = new SimpleDateFormat("HH.mm");
		Date date = sdf.parse("23.59");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest115() throws Exception {
		String input = "add dinner on 23:59";

		SimpleDateFormat sdf = new SimpleDateFormat("HH:mm");
		Date date = sdf.parse("23:59");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest117() throws Exception {
		String input = "add dinner on 2359";

		SimpleDateFormat sdf = new SimpleDateFormat("HHmm");
		Date date = sdf.parse("2359");
		date = setDefaultMonthYear(date);
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest118() throws Exception {
		SimpleDateFormat sdf = new SimpleDateFormat("HHmm");
		Date date = sdf.parse("2359");
		String input = "add dinner on Monday";

		Calendar cal = Calendar.getInstance();
		cal.setTime(date);
		cal.set(Calendar.YEAR, Calendar.getInstance().get(Calendar.YEAR));
		cal.set(Calendar.DAY_OF_YEAR, Calendar.getInstance().get(Calendar.DAY_OF_YEAR));
		int days = (Calendar.MONDAY - cal.get(Calendar.DAY_OF_WEEK)) % 7;
		if (days < 0) {
			days = days + 7;
		}
		cal.add(Calendar.DAY_OF_YEAR, days);

		date = cal.getTime();
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest119() throws Exception {
		SimpleDateFormat sdf = new SimpleDateFormat("HHmm");
		Date date = sdf.parse("1200pm");
		String input = "add dinner By 1200 sunday";

		Calendar cal = Calendar.getInstance();
		cal.setTime(date);

		cal.set(Calendar.YEAR, Calendar.getInstance().get(Calendar.YEAR));
		cal.set(Calendar.DAY_OF_YEAR, Calendar.getInstance().get(Calendar.DAY_OF_YEAR));

		Calendar now = Calendar.getInstance();
		int weekday = cal.get(Calendar.DAY_OF_WEEK);
		int HOUR_OF_DAY = cal.get(Calendar.HOUR_OF_DAY);
		int MINUTE = cal.get(Calendar.MINUTE);
		int NOW_HOUR_OF_DAY = now.get(Calendar.HOUR_OF_DAY);
		int NOW_MINUTE = now.get(Calendar.MINUTE);

		if (weekday != Calendar.SUNDAY) {
			int days = (Calendar.SUNDAY - weekday) % 7;
			if (days < 0) {
				days = days + 7;
			}
			cal.add(Calendar.DAY_OF_YEAR, days);
		} else if (HOUR_OF_DAY < NOW_HOUR_OF_DAY || (HOUR_OF_DAY == NOW_HOUR_OF_DAY && MINUTE < NOW_MINUTE)) {
			cal.add(Calendar.DAY_OF_YEAR, 7);
		}
		date = cal.getTime();
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	@Test
	public void endTest120() throws Exception {
		SimpleDateFormat sdf = new SimpleDateFormat("HHmm");
		Date date = sdf.parse("1200pm");
		String input = "add dinner By 1200 fri";

		Calendar cal = Calendar.getInstance();
		cal.setTime(date);

		cal.set(Calendar.YEAR, Calendar.getInstance().get(Calendar.YEAR));
		cal.set(Calendar.DAY_OF_YEAR, Calendar.getInstance().get(Calendar.DAY_OF_YEAR));

		Calendar now = Calendar.getInstance();
		int weekday = cal.get(Calendar.DAY_OF_WEEK);
		int HOUR_OF_DAY = cal.get(Calendar.HOUR_OF_DAY);
		int MINUTE = cal.get(Calendar.MINUTE);
		int NOW_HOUR_OF_DAY = now.get(Calendar.HOUR_OF_DAY);
		int NOW_MINUTE = now.get(Calendar.MINUTE);

		if (weekday != Calendar.FRIDAY) {
			int days = (Calendar.FRIDAY - weekday) % 7;
			if (days < 0) {
				days = days + 7;
			}
			cal.add(Calendar.DAY_OF_YEAR, days);
		} else if (HOUR_OF_DAY < NOW_HOUR_OF_DAY || (HOUR_OF_DAY == NOW_HOUR_OF_DAY && MINUTE < NOW_MINUTE)) {
			cal.add(Calendar.DAY_OF_YEAR, 7);
		}
		date = cal.getTime();
		assertEquals(date, Parser.parse(input).getDeadline());
	}
	
	@Test
	public void endTest121() throws Exception {
		SimpleDateFormat sdf = new SimpleDateFormat("HHmm");
		Date date = sdf.parse("2359");
		String input = "add dinner TO TOMORROW";

		Calendar cal = Calendar.getInstance();
		cal.setTime(date);
		cal.set(Calendar.YEAR, Calendar.getInstance().get(Calendar.YEAR));
		cal.set(Calendar.DAY_OF_YEAR, Calendar.getInstance().get(Calendar.DAY_OF_YEAR));
		cal.add(Calendar.DAY_OF_YEAR, 1);

		date = cal.getTime();
		assertEquals(date, Parser.parse(input).getDeadline());
	}

	/*************************************************************************************************
	 **************************************** COMMAND TEST *******************************************
	 *************************************************************************************************/
	
	@Test
	public void testCmd() throws Exception {
		String input = "add dinner FROM 12.34 01 january 23 to 01 feb 25";
		assertEquals(CommandDetails.COMMANDS.ADD, Parser.parse(input).getCommand());
	}

	@Test
	public void testDefaultCmd() throws Exception {
		String input = "dinner FROM 12.34 01 january 23 to 01 feb 25";
		assertEquals(CommandDetails.COMMANDS.ADD, Parser.parse(input).getCommand());
	}

	@Test
	public void testCmdWhiteSpace() throws Exception {
		String input = "       dinner FROM 12.34 01 january 23 to 01 feb 25";
		assertEquals(CommandDetails.COMMANDS.ADD, Parser.parse(input).getCommand());
	}
	
	/*************************************************************************************************
	 **************************************** ID TEST ************************************************
	 *************************************************************************************************/
	
	@Test
	public void testID() throws Exception {
		String input = "delete 2";
		int result = 2;

		assertEquals(result, Parser.parse(input).getID());
	}

	@Test
	public void testIDWhiteSpace() throws Exception {
		String input = "delete                  2";
		int result = 2;
		assertEquals(result, Parser.parse(input).getID());
	}
	
	/*************************************************************************************************
	 **************************************** DESCRIPTION TEST ***************************************
	 *************************************************************************************************/
	
	@Test
	public void testDescription() throws Exception {
		String input = "add dinner ";
		String result = "dinner";
		assertEquals(result, Parser.parse(input).getDescription());
	}

	@Test
	public void testDescriptionEscapeChar() throws Exception {
		String input = "add dinner /at gardens /by the bay";
		String result = "dinner at gardens by the bay";
		assertEquals(result, Parser.parse(input).getDescription());
	}
	
	@Test
	public void testDescriptionWhiteSpace() throws Exception {
		String input = "add               dinner                   /at gardens        /by the bay          ";
		String result = "dinner at gardens by the bay";
		assertEquals(result, Parser.parse(input).getDescription());
	}
	
	
	/*************************************************************************************************
	 **************************************** EXCEPTION TEST *****************************************
	 *************************************************************************************************/
	
	@Test(expected = InvalidParametersException.class)
	public void emptyDescription() throws Exception {
		String input = "add At tomorrow";
		assertEquals(input, Parser.parse(input).getDescription());
	}
	
	@Test(expected = InvalidTimeDateInputException.class)
	public void timeNotSupported() throws Exception {
		SimpleDateFormat sdf = new SimpleDateFormat("HHmm");
		Date date = sdf.parse("2359");
		String input = "add dinner At 123456";

		assertEquals(date, Parser.parse(input).getStartDate());
	}

	@Test(expected = InvalidTimeDateInputException.class)
	public void endedTask() throws Exception {
		String input = "add dinner from tomorrow to today";
		assertEquals(input, Parser.parse(input));
	}
	
	@Test(expected = InvalidTimeDateInputException.class)
	public void startBeforeEnd() throws Exception {
		String input = "add dinner from 1 jan to 6 jun";
		assertEquals(input, Parser.parse(input));
	}

	
	@Test(expected = NumberFormatException.class)
	public void taskNumberInvalid() throws Exception {
		String input = "delete 2grbvwerf";
		assertEquals("", Parser.parse(input).getStartDate());
	}

	@Test(expected = InvalidParametersException.class)
	public void taskNumberMissing() throws Exception {
		String input = "delete ";
		assertEquals("", Parser.parse(input).getStartDate());
	}
	
	@Test(expected = InvalidTimeDateInputException.class)
	public void timeBeforeDate() throws Exception {
		String input = "add dinner at 7/12 8pm";
		assertEquals(input, Parser.parse(input));
	
	}
}
```
